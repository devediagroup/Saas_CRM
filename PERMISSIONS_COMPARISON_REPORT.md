# ููุงุฑูุฉ ุงูุตูุงุญูุงุช: ุงููุธุงู ุงูุญุงูู vs ุงูุชูุฑูุฑ ุงููุทููุจ

## ๐ ููุฎุต ุงูููุงุฑูุฉ

| ุงูุนูุตุฑ | ุงูุญุงูุฉ ูู ุงููุธุงู | ูุทุงุจู ููุชูุฑูุฑ | ููุงุญุธุงุช |
|:-------|:---------------:|:-------------:|:---------|
| **ุงูุฃุฏูุงุฑ ุงูุฃุณุงุณูุฉ** | โ 6 ุฃุฏูุงุฑ | โ ูุชุทุงุจู | ุฌููุน ุงูุฃุฏูุงุฑ ููุฌูุฏุฉ |
| **ุงูููุงูุงุช ุงูุฃุณุงุณูุฉ** | โ 11 ููุงู | โ ูุชุทุงุจู | ุฌููุน ุงูููุงูุงุช ูุฏุนููุฉ |
| **ุงูุตูุงุญูุงุช ุงูุฎุงุตุฉ** | โ ููุถุงูุฉ | โ ูุชุทุงุจู | ุชู ุฅุถุงูุฉ leads.assign ู deals.approve |
| **Row-Level Security** | โ ููุทุจู | โ ูุชุทุงุจู | ุนุฒู ุงูุจูุงูุงุช ููุทุจู |
| **ุตูุงุญูุงุช ุฌุฏูุฏุฉ** | โ ููุถุงูุฉ | โ ูุชุทุงุจู | AI, Campaigns, Payments, etc. |

## ๐ฏ ุงูุชุทุงุจู ูุน ูุตูููุฉ ุงูุตูุงุญูุงุช ูู ุงูุชูุฑูุฑ

### โ Super Admin (ุงููุณุคูู ุงูุนุงู)
**ุงูุชูุฑูุฑ**: CRUD ุนูู ุฌููุน ุงูููุงูุงุช
**ุงููุธุงู ุงูุญุงูู**: โ `*.*` - ุฌููุน ุงูุตูุงุญูุงุช
**ุงูุญุงูุฉ**: โ ูุชุทุงุจู ุชูุงูุงู

### โ Company Admin (ูุณุคูู ุงูุดุฑูุฉ)  
**ุงูุชูุฑูุฑ**: CRUD (ุฏุงุฎู ุดุฑูุชู) + ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ
**ุงููุธุงู ุงูุญุงูู**: 
- โ Users: CRUD (ุฏุงุฎู ุดุฑูุชู)
- โ Companies: R, U (ุดุฑูุชู)  
- โ ุฌููุน ููุงูุงุช ุงูุฃุนูุงู: CRUD (ุดุฑูุชู)
- โ Settings: R, U (ุดุฑูุชู)
- โ Audit Logs: R (ุดุฑูุชู)
**ุงูุญุงูุฉ**: โ ูุชุทุงุจู ุชูุงูุงู

### โ Sales Manager (ูุฏูุฑ ุงููุจูุนุงุช)
**ุงูุชูุฑูุฑ**: ุฅุฏุงุฑุฉ ูุฑูู ุงููุจูุนุงุช + ุชุนููู + ููุงููุฉ
**ุงููุธุงู ุงูุญุงูู**:
- โ Leads: *, leads.assign (ูุฑููู)
- โ Deals: *, deals.approve (ูุฑููู)  
- โ Properties/Projects/Developers: R
- โ Analytics/Reports: R (ูุฑููู)
**ุงูุญุงูุฉ**: โ ูุชุทุงุจู ุชูุงูุงู

### โ Sales Agent (ูููู ุงููุจูุนุงุช)
**ุงูุชูุฑูุฑ**: ุฅุฏุงุฑุฉ ุนููุงุฆู ูุตููุงุชู ุงูุดุฎุตูุฉ
**ุงููุธุงู ุงูุญุงูู**:
- โ Leads: C, R, U (ุฎุงุต ุจู)
- โ Deals: C, R, U (ุฎุงุต ุจู)
- โ Activities: C, R, U, D (ุฎุงุต ุจู)
- โ Properties/Projects/Developers: R
- โ Users: R (ูููู)
**ุงูุญุงูุฉ**: โ ูุชุทุงุจู ุชูุงูุงู

### โ Marketing (ุงูุชุณููู)
**ุงูุชูุฑูุฑ**: ุฅุฏุงุฑุฉ ุงูุญููุงุช + ุนููุงุก ุชุณูููููู
**ุงููุธุงู ุงูุญุงูู**:
- โ Campaigns: CRUD
- โ Leads: C, R, U (ุฎุงุต ุจู)
- โ Properties: R
- โ Analytics/Reports: R
- โ AI: R
**ุงูุญุงูุฉ**: โ ูุชุทุงุจู ุชูุงูุงู

### โ Support (ุงูุฏุนู)
**ุงูุชูุฑูุฑ**: ูุฑุงุกุฉ ููุท ูุฃุบุฑุงุถ ุงูุฏุนู
**ุงููุธุงู ุงูุญุงูู**:
- โ Users: R (ุดุฑูุชู)
- โ ุฌููุน ููุงูุงุช ุงูุฃุนูุงู: R (ุดุฑูุชู)
- โ ูุง ููุฌุฏ ุตูุงุญูุงุช ุชุนุฏูู
**ุงูุญุงูุฉ**: โ ูุชุทุงุจู ุชูุงูุงู

## ๐ง ุงูุตูุงุญูุงุช ุงูุฎุงุตุฉ ุงูููุถุงูุฉ

### โ ุชุนููู ุงูุนููุงุก ุงููุญุชูููู (leads.assign)
- **ุงููุทููุจ ูู ุงูุชูุฑูุฑ**: Sales Manager ูุชุนููู ุงูุนููุงุก ููุฑููู
- **ุงูููุทุจู**: โ Sales Manager, Company Admin, Super Admin
- **ุงูุญุงูุฉ**: โ ูุชุทุงุจู

### โ ุงูููุงููุฉ ุนูู ุงูุตููุงุช (deals.approve)  
- **ุงููุทููุจ ูู ุงูุชูุฑูุฑ**: Sales Manager ููููุงููุฉ ุนูู ุตููุงุช ูุฑููู
- **ุงูููุทุจู**: โ Sales Manager, Company Admin, Super Admin
- **ุงูุญุงูุฉ**: โ ูุชุทุงุจู

### โ ุงูุญููุงุช ุงูุชุณููููุฉ (campaigns.*)
- **ุงููุทููุจ ูู ุงูุชูุฑูุฑ**: Marketing ููุญููุงุช ุงูุชุณููููุฉ
- **ุงูููุทุจู**: โ Marketing (CRUD), Company Admin, Super Admin
- **ุงูุญุงูุฉ**: โ ูุชุทุงุจู

### โ ุงูุฐูุงุก ุงูุงุตุทูุงุนู (ai.*)
- **ุงููุทููุจ ูู ุงูุชูุฑูุฑ**: ุชุญูููุงุช ุฐููุฉ ูููุจูุนุงุช ูุงูุชุณููู
- **ุงูููุทุจู**: โ ุฌููุน ุงูุฃุฏูุงุฑ ุนุฏุง Support (ูุฑุงุกุฉ)
- **ุงูุญุงูุฉ**: โ ูุชุทุงุจู

## ๐ก๏ธ Row-Level Security (ุฃูุงู ูุณุชูู ุงูุตููู)

### โ ุนุฒู ุงูุจูุงูุงุช ุจูู ุงูุดุฑูุงุช (Multi-tenant)
- **ุงููุทููุจ**: `WHERE companyId = user.companyId`
- **ุงูููุทุจู**: โ ูู ุฌููุน Services
- **ุงูุญุงูุฉ**: โ ูุชุทุงุจู

### โ ุนุฒู ุงูุจูุงูุงุช ุฏุงุฎู ุงูุดุฑูุฉ
- **Sales Agent**: `WHERE assignedTo = userId OR createdBy = userId`
- **Sales Manager**: `WHERE managerId = userId OR teamMember = true`
- **Marketing**: `WHERE source = 'marketing' AND createdBy = userId`
- **ุงูููุทุจู**: โ ูู Services ุทุจูุฉ
- **ุงูุญุงูุฉ**: โ ูุชุทุงุจู

## ๐ ุงูููุงูุงุช ุงููุฏุนููุฉ

| ุงูููุงู | ูุทููุจ ูู ุงูุชูุฑูุฑ | ููุฌูุฏ ูู ุงููุธุงู | ุตูุงุญูุงุช ููุทุจูุฉ |
|:-------|:----------------:|:---------------:|:---------------:|
| Users | โ | โ | โ CRUD ุญุณุจ ุงูุฏูุฑ |
| Companies | โ | โ | โ Super Admin ููุท |
| Developers | โ | โ | โ ุญุณุจ ุงูุชูุฑูุฑ |
| Projects | โ | โ | โ ุญุณุจ ุงูุชูุฑูุฑ |
| Properties (Units) | โ | โ | โ ุญุณุจ ุงูุชูุฑูุฑ |
| Leads | โ | โ | โ + leads.assign |
| Deals | โ | โ | โ + deals.approve |
| Activities | โ | โ | โ ุญุณุจ ุงูุชูุฑูุฑ |
| Analytics | โ | โ | โ ุญุณุจ ุงูุชูุฑูุฑ |
| Reports | โ | โ | โ ุญุณุจ ุงูุชูุฑูุฑ |
| Settings | โ | โ | โ ุญุณุจ ุงูุชูุฑูุฑ |
| AI Analysis | โ | โ | โ ููุถุงู ุญุฏูุซุงู |
| Marketing Campaigns | โ | โ | โ ููุถุงู ุญุฏูุซุงู |
| Payments | โ | โ | โ ููุถุงู ุญุฏูุซุงู |
| Notifications | โ | โ | โ ููุถุงู ุญุฏูุซุงู |
| Audit Logs | โ | โ | โ ููุถุงู ุญุฏูุซุงู |

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### โ ูุณุชูู ุงูุชุทุงุจู: 100%

**ุฌููุน ูุชุทูุจุงุช ุงูุชูุฑูุฑ ููุทุจูุฉ ุจูุฌุงุญ:**

1. โ **ูููู ุงูุฃุฏูุงุฑ ุงูุณุชุฉ** - ูุชุทุงุจู ุชูุงูุงู
2. โ **ูุตูููุฉ ุงูุตูุงุญูุงุช** - ููุทุจูุฉ ุจุฏูุฉ  
3. โ **ุงูุตูุงุญูุงุช ุงูุฎุงุตุฉ** - leads.assign, deals.approve
4. โ **Row-Level Security** - ุนุฒู ุงูุจูุงูุงุช ููุทุจู
5. โ **ุงูููุงูุงุช ุงูุฌุฏูุฏุฉ** - AI, Campaigns, Payments, etc.
6. โ **ูุทุงูุงุช ุงูุตูุงุญูุงุช** - Multi-tenant + Role-based
7. โ **ุฃูุงู ุงููุงุฌูุชูู** - Backend Guards + Frontend Components

## ๐ ููุงุญุธุงุช ุงูุชุทุจูู

### ุงููููุงุช ุงูููุญุฏุซุฉ:
1. **`permissions.interface.ts`** - ุฅุถุงูุฉ ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ
2. **`permissions.service.ts`** - ุชุญุฏูุซ ูุตูููุฉ ุงูุฃุฏูุงุฑ  
3. **`permissions.guard.ts`** - ุชุญุฏูุซ ุญุฑุงุณ ุงูุตูุงุญูุงุช
4. **`PERMISSIONS_MATRIX_ARABIC.md`** - ุชูุซูู ุดุงูู ุจุงูุนุฑุจูุฉ

### ุงููููุฒุงุช ุงูููุถุงูุฉ:
- โ ุตูุงุญูุงุช ุฏููุงููููุฉ ูุงุจูุฉ ููุชุฎุตูุต
- โ ุฏุนู Wildcard permissions (ูุซู `users.*`)
- โ ูุธุงู ุตูุงุญูุงุช ูุฌูู (Role-based + Custom)
- โ ุชุทุจูู Security ุนูู ุทุจูุงุช ูุชุนุฏุฏุฉ
- โ ุชูุซูู ุดุงูู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

---

**ุฎูุงุตุฉ**: ุงููุธุงู ุงูุขู ูุชุทุงุจู ุจูุณุจุฉ 100% ูุน ูุชุทูุจุงุช ุงูุชูุฑูุฑ โ